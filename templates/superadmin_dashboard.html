<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Select Submission Month | JBS Ethics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="/static/css/supervisor.css">
  <link rel="stylesheet" href="/static/css/review.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/supervisor.css') }}">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    
.btn {
    
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .folder-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 2rem;
      padding: 2rem;
    }
   
    .folder-card:hover {
      transform: scale(1.05);
      
    }
    .folder-icon {
      font-size: 3rem;
      color: #4F2365;
    }
    .folder-label {
      margin-top: 0.5rem;
      font-weight: bold;
      color: #022169;
    }
    
    .btn {
      background-color: #022169;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .year-section { margin-bottom: 2rem; }
    .month-header { font-weight: bold; color: #022169; margin-top: 1rem; }
    .form-list { margin-left: 1rem; list-style-type: square; }
    .no-data { display: none; text-align: center; font-weight: bold; color: #cc0000; margin-top: 2rem; }
    .table-container { display: block; }
    .table-container.hidden { display: none; }

    .card h3 {
  font-size: 2rem;
  font-weight: bold;
  color: #022169;
}

.card h6 {
  font-size: 1rem;
  color: #666;
}
.sidebar {
  width: 250px;           /* Fixed sidebar width */
  height: 100vh;          /* Full viewport height */
  padding: 20px;          /* Inner padding */
  box-sizing: border-box;
  overflow-y: auto;       /* Scroll if content overflows vertically */
}

/* Sidebar header styling */
.sidebar-header {
  text-align: center;
  margin-bottom: 30px;
}

.sidebar-logo {
  max-width: 150px;
  height: auto;
  margin-bottom: 10px;
}

/* Override navbar for vertical layout inside sidebar */
.sidebar .navbar-nav {
  flex-direction: column;  /* vertical stack */
}

.sidebar .nav-item {
  width: 100%;
}

.sidebar .dropdown-menu {
  position: static;       /* Let dropdown stay inside sidebar */
  float: none;
  width: 100%;
  margin: 0;
  border: none;
  box-shadow: none;
  padding-left: 15px;
}



/* Remove navbar toggler as sidebar is always visible */
.sidebar .navbar-toggler {
  display: none;
}

/* Optional: style links */
.sidebar a.navbar-brand {
  font-weight: bold;
  margin-bottom: 20px;
  display: block;
  
  text-decoration: none;
}

  </style>
</head>

<body>
<div class="admin-wrapper">
  <aside class="sidebar">
  <div class="sidebar-header">
    <img src="/static/img/image.png" alt="UJ JBS Logo" class="sidebar-logo">
    <h3>JBS Ethics Application</h3>
  </div>
  <nav class="sidebar-nav">
    <div class="container-fluid flex-column p-0">
      <a href="{{url_for('chair_landing')}}" class="sidebar-link">
        <i class="fas fa-clipboard-list"></i> Dashboard
      </a>

      <a href="{{url_for('reviewer_list')}}" class="sidebar-link">
        <i class="fas fa-user"></i> Reviewer List
      </a>

      <a href="{{url_for('all_users')}}" class="sidebar-link">
        <i class="fas fa-users-cog"></i> User Management
      </a>
      
      <a href="{{url_for('rec_dashboard')}}" class="sidebar-link">
        <i class="fas fa-users"></i> Rec Team Dashboard
      </a>
      <a  href="{{ url_for('super_admin') }}" class="sidebar-link">Analytics</a>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0 w-100">
        <li class="nav-item dropdown w-100">
          <a class="nav-link dropdown-toggle" href="#" id="formsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Forms</a>
          <ul class="dropdown-menu" aria-labelledby="formsDropdown">
            <li><a class="dropdown-item" href="{{ url_for('super_admin_form_a') }}">Form A</a></li>
            <li><a class="dropdown-item" href="{{ url_for('super_admin_form_b') }}">Form B</a></li>
            <li><a class="dropdown-item" href="{{ url_for('super_admin_form_c') }}">Form C</a></li>
          </ul>
        </li>
      </ul>
    
    <a href="{{url_for('logout')}}" class="sidebar-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
  </nav>
</aside>


  <main class="admin-main">
    <header class="topbar">
  <div class="d-flex justify-content-between align-items-center">
    <h2>Ethics Superadmin</h2>
  </div>
  <p class="text-muted">Monitor submissions, certificates, review stages, and reviewer efficiency.</p>
</header>
{% if forma %}
<h1> FORM A</h1>
<section class="admin-content container-fluid mt-4">
  <div class="row text-center mb-4">
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>risk rating distribution</h6>
        <img src="data:image/png;base64,{{ risk_rating_distribution }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>review recommendations distribution</h6>
        <img src="data:image/png;base64,{{ review_recommendations }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>rec member distribution</h6>
        <img src="data:image/png;base64,{{ rec_member_distribution }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>certificate status</h6>
        <img src="data:image/png;base64,{{ certificate_status }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Submissions Over Time</h6>
        <img src="data:image/png;base64,{{ submissions_over_time }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Review Recommendation by Risk Rating</h6>
        <img src="data:image/png;base64,{{ review_by_risk_rating }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Top Applicants by Submission Count</h6>
        <img src="data:image/png;base64,{{ top_applicants }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Percentage of Certificates Received</h6>
        <img src="data:image/png;base64,{{ certificate_received_percentage }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Primary vs Secondary Review Recommendation</h6>
        <img src="data:image/png;base64,{{ review_recommendation_comparison }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Review Recommendations</h6>
        <img src="data:image/png;base64,{{ review_recommendations }}">
      </div>
    </div>
  </div>
</section>
{% elif formb %}
<h1>FORM B</h1>
<section class="admin-content container-fluid mt-4">
  <div class="row text-center mb-4">
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>risk rating distribution</h6>
        <img src="data:image/png;base64,{{ risk_rating_distribution }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>review recommendations distribution</h6>
        <img src="data:image/png;base64,{{ review_recommendations }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>rec member distribution</h6>
        <img src="data:image/png;base64,{{ rec_member_distribution }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>certificate status</h6>
        <img src="data:image/png;base64,{{ certificate_status }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Submissions Over Time</h6>
        <img src="data:image/png;base64,{{ submissions_over_time }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Review Recommendation by Risk Rating</h6>
        <img src="data:image/png;base64,{{ review_by_risk_rating }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Top Applicants by Submission Count</h6>
        <img src="data:image/png;base64,{{ top_applicants }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Percentage of Certificates Received</h6>
        <img src="data:image/png;base64,{{ certificate_received_percentage }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Primary vs Secondary Review Recommendation</h6>
        <img src="data:image/png;base64,{{ review_recommendation_comparison }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Review Recommendations</h6>
        <img src="data:image/png;base64,{{ review_recommendations }}">
      </div>
    </div>
  </div>
</section>
{% elif formc%}
<h1>FORM C</h1>
<section class="admin-content container-fluid mt-4">
  <div class="row text-center mb-4">
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>risk rating distribution</h6>
        <img src="data:image/png;base64,{{ risk_rating_distribution }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>review recommendations distribution</h6>
        <img src="data:image/png;base64,{{ review_recommendations }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>rec member distribution</h6>
        <img src="data:image/png;base64,{{ rec_member_distribution }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>certificate status</h6>
        <img src="data:image/png;base64,{{ certificate_status }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Submissions Over Time</h6>
        <img src="data:image/png;base64,{{ submissions_over_time }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Review Recommendation by Risk Rating</h6>
        <img src="data:image/png;base64,{{ review_by_risk_rating }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Top Applicants by Submission Count</h6>
        <img src="data:image/png;base64,{{ top_applicants }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Percentage of Certificates Received</h6>
        <img src="data:image/png;base64,{{ certificate_received_percentage }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Primary vs Secondary Review Recommendation</h6>
        <img src="data:image/png;base64,{{ review_recommendation_comparison }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm p-3">
        <h6>Review Recommendations</h6>
        <img src="data:image/png;base64,{{ review_recommendations }}">
      </div>
    </div>
  </div>
</section>
{% endif %}


<script>
function updateSearchInput() {
  const type = document.getElementById("searchType").value;
  document.getElementById("searchInput").classList.toggle("d-none", type === "specialization");
  document.getElementById("specializationDropdown").classList.toggle("d-none", type !== "specialization");
}

function applyFilters() {
  const type = document.getElementById("searchType").value;
  const text = type === "specialization" ? document.getElementById("specializationDropdown").value : document.getElementById("searchInput").value;
  if (!type || !text.trim()) return alert("Please select a filter type and provide a value.");
  const input = text.trim().toLowerCase();

  document.querySelectorAll(".table-container").forEach(container => {
    let matchCount = 0;
    const rows = container.querySelectorAll("tbody tr");
    rows.forEach(row => {
      const show = type === "year" ? row.cells[0].innerText.toLowerCase().includes(input) : row.dataset.degree.includes(input);
      row.style.display = show ? "" : "none";
      if (show) matchCount++;
    });
    container.querySelector(".no-data").style.display = matchCount === 0 ? "block" : "none";
    container.classList.toggle("hidden", matchCount === 0);
  });
}
</script>
</body>
</html>
