<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Form C â€“ Declaration | JBS Ethics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/form_a.css" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/form_a.css') }}">

  <style>
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: #fff;
      padding: 2rem;
      border-radius: 8px;
      text-align: center;
      width: 400px;
      max-width: 90%;
      box-shadow: 0 0 10px rgba(0,0,0,0.25);
    }

    .modal-content h3 {
      margin-bottom: 1rem;
      color: #2E1A46;
    }

    .modal-content button {
      margin-top: 1rem;
      background-color: #2E1A46;
      color: #fff;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="form-wrapper">

  <!-- Navbar -->
  <header class="navbar">
    <div class="nav-content">
      <img src="{{ url_for('static',filename='img/image.png')}}" alt="UJ JBS Logo" class="logo uj">
      <span class="nav-title">Form C â€“ Declaration</span>

      <div style="text-align: right;">
        <a href="{{url_for('logout')}}" class="btn-logout">Logout</a>
      </div>
    </div>
  </header>

  <!-- Top Bar -->
  <div class="form-header">
    <button class="approve-btn">ðŸ’¾ Save Draft</button>
    <strong>Step 4 of 4</strong>
  </div>

    <!-- Progress Bar -->
    <div class="progress-bar">
      <div class="progress-fill" style="width: 99%;">99%</div>
    </div>
  <!-- Main Content -->
  <main class="main-content">
    <form id="formCDeclaration">
      <h2>SECTION 4: Declaration</h2>

      <p class="form-note">
        I, <input type="text" id="declaration-name" name="declaration_name" required style="display: inline-block; width: 300px;">
        (full name of main researcher),declare that I have read the Policy on Research Ethics of UJ and the contents of this document are a true and accurate reflection of the methodological and ethical implications of my proposed study. I shall carry out the study in strict accordance with the approved proposal and the Policy on Research Ethics of UJ. I further undertake to inform the relevant research ethics review committee of JBS in writing of any adverse events that occur arising from the injury or harm experienced by the participants in the study. I shall also notify the relevant JBS research ethics review committee if any changes to the study are proposed. I shall maintain the confidentiality of all data collected from or about the research participants and impose strict controls in the maintenance of privacy. I shall record all data captured during interviews in accordance with
 
        ethical guidelines outlined in my proposal. Paragraph 5 of the Policy on Research Ethics places huge emphasis on the integrity of the research and I shall ensure that I conduct the research with the highest integrity taking into account UJâ€™s Policy for Copyright Infringement and Plagiarism. Data that was gathered retrospectively will not be used. I acknowledge that as main researcher it is my responsibility to ensure that the co-researchers to this research project adhere to the ethical principles set out in the UJ Policy on Research Ethics.
                                      

      </p>

      <div class="form-group">
        <label for="full_name">Full Name</label>
        <input type="text" name="full_name" id="full_name" required placeholder="Enter your full name">
      </div>

      <div class="form-group">
        <label for="submission_date">Date</label>
        <input type="date" name="submission_date" id="submission_date" required>
      </div>

      <hr>

<h3>SUPERVISOR'S SECTION</h3>
<p><strong>Supervisor's Review and Declaration</strong></p>

<div class="form-group">
  <label for="supervisor_comments">Supervisor Comments:</label>
  <textarea id="supervisor_comments" name="supervisor_comments" rows="4" placeholder="Provide feedback or concerns regarding the student's submission..."></textarea>
</div>

<p><strong>Declaration by Supervisor (where applicable):</strong></p>
<p>
  To the best of my knowledge, the student has addressed all the aspects that relate to ethical clearance for the study and is complying with the requirements as set forth in the Policy on Research Ethics of UJ and the Charter and standard operating procedure of the Johannesburg Business Schoolsâ€™ Research Ethics Committee.
</p>

<div class="form-group">
  <label for="supervisor_signature">Signature of Supervisor</label>
  <input type="text" name="supervisor_signature" id="supervisor_signature" placeholder="Type your full name as signature" required>
</div>

<div class="form-group">
  <label for="supervisor_date">Date</label>
  <input type="date" name="supervisor_date" id="supervisor_date" required>
</div>

<!-- Supervisor Action Buttons -->
<div class="form-navigation">
  <a href="form-a-section5.html" class="revise-btn">â¬… Return to Student</a>
  <button type="submit" class="approve-btn">âœ” Submit for Ethics Approval</button>
</div>

  </form>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Johannesburg Business School | JBS Ethics System</p>
  </footer>

  <!-- Confirmation Modal -->
  <div id="confirmationModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h3>Form C Submitted Successfully!</h3>
      <p>Your application has been received and forwarded to your supervisor.</p>
      <button id="closeModalBtn">Return to Dashboard</button>
    </div>
  </div>
</div>

<!-- SCRIPT: Confirmation Modal Logic -->
<script>
  const form = document.getElementById("formCDeclaration");
  const modal = document.getElementById("confirmationModal");
  const closeModalBtn = document.getElementById("closeModalBtn");

  form.addEventListener("submit", function (e) {
    e.preventDefault();
    modal.style.display = "flex";
  });

  closeModalBtn.addEventListener("click", () => {
    window.location.href = "dashboard.html";
  });
</script>

</body>
</html>
