<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JBSREC Reviewer Checklist | JBS Ethics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/supervisor.css" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/supervisor.css') }}">
  <!-- <link rel="stylesheet" href="css/review.css" /> -->
  <style>
    .checklist-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }

    .checklist-table th,
    .checklist-table td {
      border: 1px solid #ccc;
      padding: 10px;
      vertical-align: top;
    }

    .checklist-table th {
      background-color: #f6f6f6;
      font-weight: bold;
    }

    .textarea-sm {
      width: 100%;
      height: 70px;
      resize: vertical;
    }

    .submit-row {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
    }

    .form-label {
      margin-top: 1.5rem;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="admin-wrapper">

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <img src="{{ url_for('static',filename='img/image.png')}}" alt="UJ JBS Logo" class="sidebar-logo">
      <h3>Reviewer Panel</h3>
    </div>
    <nav class="sidebar-nav">
      <a href="reviewer-dashboard.html">üìã My Reviews</a>
      <a href="logout.html">üîí Logout</a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="admin-main">
    <header class="topbar">
      <h2>JBSREC Checklist ‚Äì Student 216018061</h2>
    </header>

    <section class="admin-content">
      <form id="checklistForm">
        <h3>Reviewer Checklist</h3>

        <table class="checklist-table">
          <thead>
            <tr>
              <th>Checklist of documents required for ethical clearance process</th>
              <th>Submitted (Yes / No)</th>
              <th>Reviewer Comments</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Organisational Permission
                <ul>
                    <li>Can be an email or formal letter; ensure that permission to access relevant business documents are also included.</li>
                    <li>Permission to access the business premises is also required.</li>
                </ul>
              </td>
              <td>
                <select name="org_permission" required>
                  <option value="">Select</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>
              </td>
              <td><textarea class="textarea-sm" name="org_permission_comment"></textarea></td>
            </tr>
            <tr>
              <td>Signed Waiver from Business</td>
              <td>
                <select name="signed_waiver" required>
                  <option value="">Select</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>
              </td>
              <td><textarea class="textarea-sm" name="signed_waiver_comment"></textarea></td>
            </tr>
            <tr>
              <td>Form A ‚Äì Ethics Application Form</td>
              <td>
                <select name="form_a" required>
                  <option value="">Select</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>
              </td>
              <td><textarea class="textarea-sm" name="form_a_comment"></textarea></td>
            </tr>
            <tr>
              <td>Interview Questions or Questionnaire</td>
              <td>
                <select name="questions" required>
                  <option value="">Select</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>
              </td>
              <td><textarea class="textarea-sm" name="questions_comment"></textarea></td>
            </tr>
            <tr>
              <td>Participant Info Sheet & Informed Consent</td>
              <td>
                <select name="consent_form" required>
                  <option value="">Select</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>
              </td>
              <td><textarea class="textarea-sm" name="consent_form_comment"></textarea></td>
            </tr>
            <tr>
              <td>Refined Concept Proposal</td>
              <td>
                <select name="refined_proposal" required>
                  <option value="">Select</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>
              </td>
              <td><textarea class="textarea-sm" name="refined_proposal_comment"></textarea></td>
            </tr>
          </tbody>
        </table>

        <label class="form-label">Additional Reviewer Comments</label>
        <textarea rows="5" name="additional_comments" style="width:100%;" placeholder="Add general comments or recommendation..."></textarea>

        <div class="submit-row">
            <button type="button" class="approve-btn" onclick="decision('Approved')">‚úÖ Approve</button>
            <button type="button" class="revise-btn" onclick="decision('Minor')">‚ö†Ô∏è Approved with Minor Changes</button>
            <button type="button" class="btn-logout" onclick="decision('Resubmit')">üîÅ Resubmission Required</button>
            <button type="button" class="reject-btn" onclick="decision('Rejected')">‚ùå Reject</button>
        
          </div>
          
      </form>
    </section>

    <footer class="footer">
      <p>&copy; 2025 JBS Ethics Review Board</p>
    </footer>
  </main>

</div>

<script>
<script>
  function decision(type) {
    const comments = document.querySelector('textarea[name="additional_comments"]').value.trim();
    if (!comments) {
      alert("‚ö†Ô∏è Please enter your feedback before submitting.");
      return;
    }

    let message = "";
    switch (type) {
      case "Approved":
        message = "‚úÖ Study approved. Checklist and comments sent to Ethics Admin.";
        break;
      case "Minor":
        message = "‚ö†Ô∏è Approved with minor changes. Comments have been noted.";
        break;
      case "Resubmit":
        message = "üîÅ Resubmission required. Student and supervisor will be notified.";
        break;
      case "Rejected":
        message = "‚ùå Study has been rejected and returned to the applicant.";
        break;
    }

    alert(message);
    window.location.href = "rec-dashboard.html";
  }
</script>

</script>

</body>
</html>
