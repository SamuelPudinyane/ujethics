<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Watch Ethics Videos | JBS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <style>

  #video1, #video2 {
    display: none;
  }

    .form-step.active {
      display: block;
    }

    .step-buttons {
      margin-top: 20px;
    }

    button {
      margin-right: 10px;
    }
  </style>

</head>

<body>
  <header class="navbar">
    <div class="nav-content">
      <img src="{{ url_for('static',filename='img/image.png')}}" alt="UJ JBS Logo" class="logo uj">
      <span class="nav-title">Ethics Application System</span>
    </div>
    <div style="text-align: right;">

      <a href="{{url_for('logout')}}" class="btn-logout">Logout</a>
    </div>
  </header>



<!-- Presentation Section -->
<main class="main-content">
  <h2>Ethics Training Presentation</h2>
  <div id="presentation-section">
    <h4>ðŸ“˜ Please Review the Ethics Training Presentation</h4>
    <p>You can download and review the presentation before starting the videos.</p>
    <div class="presentation-buttons text-center mb-3">
      <a class="btn btn-outline-primary" href="{{ url_for('static', filename='img/Ethics_ppt.pptx') }}" download>
        â†“ Download Presentation
      </a>
    </div>
    <div class="confirm-check">
      <input type="checkbox" id="confirm-ppt" name="confirm-ppt">
      <label for="confirm-ppt">I confirm I have reviewed the Ethics Presentation.</label>
    </div>
    <br>
    <button id="startVideosBtn" class="btn btn-success" disabled>Start Training Videos</button>
  </div>


<!-- Video Section -->


  <!-- Video 1 -->
  <div id="video1" class="video-box">
    <h4>Lecture 1: Introduction</h4>
    <div>
      <h5>Video 1 Summary</h5>
      <summary>...</summary>
    </div>
    <br>
    <iframe width="100%" height="315" src="https://www.youtube.com/embed/fQaykWNLwmc" frameborder="0" allowfullscreen></iframe>
    <div class="confirm-check">
      <input type="checkbox" id="confirm-video1" name="confirm-video1">
      <label for="confirm-video1">I confirm I have watched lecture 1 video.</label><br>
    </div>
    <br>
    <button id="nextBtn" disabled>Next Lesson</button>
  </div>

  <!-- Video 2 -->
  <div id="video2" class="video-box">
    <h4>Lecture 2: Application Process</h4>
    <div>
      <h5>Video 2 Summary</h5>
      <summary>...</summary>
    </div>
    <br>
    <iframe width="100%" height="315" src="https://www.youtube.com/embed/_JlAwVsVgok" frameborder="0" allowfullscreen></iframe>
    <div class="confirm-check">
      <input type="checkbox" id="confirm-video2" name="confirm-video2">
      <label for="confirm-video2">I confirm I have watched lecture 2 video.</label>
    </div>
    <br>
    <button id="continueBtn" disabled>Continue</button>
    <br><br>
    <button id="prevBtn">Previous Video</button>
  </div>

</main>

<!-- JavaScript -->
<script>
  const confirmPpt = document.getElementById("confirm-ppt");
  const startVideosBtn = document.getElementById("startVideosBtn");

  const confirmVideo1 = document.getElementById("confirm-video1");
  const confirmVideo2 = document.getElementById("confirm-video2");

  const nextBtn = document.getElementById("nextBtn");
  const continueBtn = document.getElementById("continueBtn");
  const prevBtn = document.getElementById("prevBtn");

  // Step 1: Unlock video1
  confirmPpt.addEventListener("change", () => {
    startVideosBtn.disabled = !confirmPpt.checked;
  });

  startVideosBtn.addEventListener("click", () => {
    document.getElementById("presentation-section").style.display = "none";
    document.getElementById("video1").style.display = "block";
  });

  // Step 2: Unlock nextBtn after video1 confirmation
  confirmVideo1.addEventListener("change", () => {
    nextBtn.disabled = !confirmVideo1.checked;
  });

  // Step 3: Unlock continueBtn after video2 confirmation
  confirmVideo2.addEventListener("change", () => {
    continueBtn.disabled = !confirmVideo2.checked;
  });

  nextBtn.addEventListener("click", () => {
    document.getElementById("video1").style.display = "none";
    document.getElementById("video2").style.display = "block";
  });

  prevBtn.addEventListener("click", () => {
    document.getElementById("video2").style.display = "none";
    document.getElementById("video1").style.display = "block";
  });

  continueBtn.addEventListener("click", () => {
    window.location.href = "{{ url_for('ethics_pack') }}";
  });
</script>


</body>

</html>